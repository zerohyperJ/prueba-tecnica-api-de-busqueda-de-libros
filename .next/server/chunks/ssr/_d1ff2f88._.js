module.exports=[70864,a=>{a.n(a.i(33290))},65897,a=>{a.n(a.i(96647))},2894,a=>{a.n(a.i(66188))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},27149,a=>{"use strict";let b="https://openlibrary.org";function c(a,b="M"){return`https://covers.openlibrary.org/b/id/${a}-${b}.jpg`}function d(a){let b=a.split("/");return b[b.length-1]}async function e(a){if(!a||""===a.trim())return[];try{let e=new AbortController,f=setTimeout(()=>e.abort(),5e3),g=await fetch(`${b}/search.json?q=${encodeURIComponent(a)}&limit=20`,{signal:e.signal});if(clearTimeout(f),!g.ok)throw Error(`API error: ${g.status} ${g.statusText}`);return(await g.json()).docs.map(a=>({id:d(a.key),title:a.title,author:a.author_name||["Autor Desconocido"],coverUrl:a.cover_i?c(a.cover_i,"M"):void 0,firstPublishYear:a.first_publish_year}))}catch(a){if(a instanceof Error){if("AbortError"===a.name)throw Error("La solicitud tardó demasiado tiempo. Intenta de nuevo.");throw Error(`Error al buscar libros: ${a.message}`)}throw Error("Error desconocido al buscar libros")}}async function f(a){try{let e=new AbortController,f=setTimeout(()=>e.abort(),5e3),g=await fetch(`${b}/works/${a}.json`,{signal:e.signal,next:{revalidate:86400}});if(clearTimeout(f),!g.ok){if(404===g.status)throw Error("Libro no encontrado");throw Error(`API error: ${g.status} ${g.statusText}`)}let h=await g.json(),i=["Autor Desconocido"];if(h.authors&&h.authors.length>0)try{let a=h.authors.slice(0,3).map(async a=>{let c=a.author.key,d=new AbortController,e=setTimeout(()=>d.abort(),2e3);try{let a=await fetch(`${b}${c}.json`,{signal:d.signal,next:{revalidate:604800}});if(clearTimeout(e),a.ok)return(await a.json()).name}catch{clearTimeout(e)}return"Autor Desconocido"});i=await Promise.all(a)}catch(a){console.error("Error al obtener detalles de autores:",a)}return{id:d(h.key),title:h.title,author:i,coverUrl:h.covers?.[0]?c(h.covers[0],"L"):void 0,firstPublishYear:h.first_publish_date?parseInt(h.first_publish_date.split("-")[0]):void 0,description:function(a){if(!a)return;let b="string"==typeof a?a:a.value,c=b.indexOf("**Contains**");return -1!==c&&(b=b.substring(0,c).trim()),(b=(b=(b=(b=b.replace(/\[([^\]]+)\]\([^\)]+\)/g,"$1")).replace(/\[([^\]]+)\]\[\d+\]/g,"$1")).replace(/\[\d+\]:\s*https?:\/\/[^\s]+/g,"")).replace(/\n{3,}/g,"\n\n").trim())||void 0}(h.description)}}catch(a){if(a instanceof Error){if("AbortError"===a.name)throw Error("La solicitud tardó demasiado tiempo. Intenta de nuevo.");throw Error(`Error al cargar el libro: ${a.message}`)}throw Error("Error desconocido al cargar el libro")}}a.s(["getBookDetails",()=>f,"searchBooks",()=>e])},41695,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/books/[id]/BookDetailsClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/books/[id]/BookDetailsClient.tsx <module evaluation>","default");a.s(["default",0,b])},68623,a=>{"use strict";let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call the default export of [project]/app/books/[id]/BookDetailsClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/app/books/[id]/BookDetailsClient.tsx","default");a.s(["default",0,b])},47547,a=>{"use strict";a.i(41695);var b=a.i(68623);a.n(b)},83704,a=>{"use strict";var b=a.i(7997),c=a.i(27149),d=a.i(47547);async function e({params:a}){try{let b=await (0,c.getBookDetails)(a.id);return{title:`${b.title} - Book Search App`,description:b.description||`${b.title} por ${b.author.join(", ")}`}}catch{return{title:"Libro no encontrado - Book Search App"}}}async function f({params:a}){let e=null,f=null;try{e=await (0,c.getBookDetails)(a.id)}catch(a){f=a instanceof Error?a.message:"No se pudo cargar el libro",console.error("Book details error:",a)}return e||f||(f="Libro no encontrado"),(0,b.jsx)(d.default,{book:e,error:f})}a.s(["default",()=>f,"generateMetadata",()=>e,"revalidate",0,86400])}];

//# sourceMappingURL=_d1ff2f88._.js.map