{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","turbopack:///[project]/components/BookCard.tsx","turbopack:///[project]/app/SearchPageClient.tsx","turbopack:///[project]/components/SearchBar.tsx","turbopack:///[project]/components/LoadingSpinner.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","\"use client\";\r\n\r\nimport { memo } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { Book } from \"@/lib/types/book\";\r\nimport FavoriteButton from \"./FavoriteButton\";\r\n\r\ninterface BookCardProps {\r\n  book: Book;\r\n}\r\n\r\nfunction BookCard({ book }: BookCardProps) {\r\n  return (\r\n    <div className=\"group h-full\">\r\n      <Link href={`/books/${book.id}`}>\r\n        <div className=\"border border-gray-200 rounded-xl p-4 shadow-sm hover:shadow-2xl transition-all duration-300 cursor-pointer bg-white h-full flex flex-col group-hover:scale-[1.02]\">\r\n          <div className=\"relative w-full h-64 mb-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg flex items-center justify-center overflow-hidden\">\r\n          {book.coverUrl ? (\r\n            <Image\r\n              src={book.coverUrl}\r\n              alt={`Portada de ${book.title}`}\r\n              fill\r\n              className=\"object-cover\"\r\n              sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\r\n              loading=\"lazy\"\r\n              quality={75}\r\n              onError={(e) => {\r\n                e.currentTarget.style.display = 'none';\r\n              }}\r\n            />\r\n          ) : (\r\n            <div className=\"flex flex-col items-center justify-center text-gray-400\">\r\n              <svg\r\n                className=\"w-16 h-16\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\r\n                />\r\n              </svg>\r\n              <span className=\"text-sm mt-2\">Sin portada</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex-1 flex flex-col\">\r\n          <h3 className=\"text-base font-bold mb-2 line-clamp-2 text-gray-900 group-hover:text-blue-600 transition-colors\">\r\n            {book.title}\r\n          </h3>\r\n\r\n          <p className=\"text-gray-600 text-sm mb-2 line-clamp-1\">\r\n            {book.author.join(\", \")}\r\n          </p>\r\n\r\n          <p className=\"text-gray-500 text-xs mb-3\">\r\n            {book.firstPublishYear && !isNaN(book.firstPublishYear)\r\n              ? book.firstPublishYear\r\n              : \"Sin fecha de publicación\"}\r\n          </p>\r\n\r\n          <div className=\"mt-auto pt-3 border-t border-gray-100 flex justify-end\">\r\n            <FavoriteButton book={book} size=\"md\" />\r\n          </div>\r\n        </div>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(BookCard);\r\n","\"use client\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useBookStore } from \"@/lib/store/useBookStore\";\r\nimport { Book } from \"@/lib/types/book\";\r\nimport SearchBar from \"@/components/SearchBar\";\r\nimport BookCard from \"@/components/BookCard\";\r\nimport LoadingSpinner from \"@/components/LoadingSpinner\";\r\n\r\ninterface SearchPageClientProps {\r\n  initialResults: Book[];\r\n  initialQuery: string;\r\n  error: string | null;\r\n}\r\n\r\nexport default function SearchPageClient({\r\n  initialResults,\r\n  initialQuery,\r\n  error: initialError,\r\n}: SearchPageClientProps) {\r\n  const { searchResults, isLoading, error, searchTerm, setSearchResults, setError, setSearchTerm } =\r\n    useBookStore();\r\n\r\n  // Sync initial server-side data with store only if we have new data\r\n  useEffect(() => {\r\n    // Only update if we have initial results from server\r\n    if (initialQuery && initialResults.length > 0) {\r\n      setSearchResults(initialResults);\r\n      setSearchTerm(initialQuery);\r\n    }\r\n    // Set error if exists\r\n    if (initialError) {\r\n      setError(initialError);\r\n    }\r\n  }, [initialQuery, initialResults, initialError, setSearchResults, setError, setSearchTerm]);\r\n\r\n  // Show results from store if available, otherwise show initial results\r\n  const displayResults = searchResults.length > 0 ? searchResults : initialResults;\r\n  const displayError = error || initialError;\r\n  const hasQuery = initialQuery || searchTerm;\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-gray-50\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n        <div id=\"search\" className=\"scroll-mt-20\">\r\n          <h1 className=\"text-4xl font-bold text-center mb-2 text-gray-800\">\r\n            Búsqueda de Libros\r\n          </h1>\r\n          <p className=\"text-center text-gray-600 mb-8\">\r\n            Encuentra tus libros favoritos usando Open Library\r\n          </p>\r\n\r\n          <SearchBar />\r\n        </div>\r\n\r\n        {isLoading && <LoadingSpinner />}\r\n\r\n        {displayError && !isLoading && (\r\n          <div className=\"max-w-2xl mx-auto bg-red-50 border border-red-200 rounded-lg p-4 text-center\">\r\n            <p className=\"text-red-800\">{displayError}</p>\r\n          </div>\r\n        )}\r\n\r\n        {!isLoading && !displayError && hasQuery && displayResults.length === 0 && (\r\n          <div className=\"max-w-2xl mx-auto bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center\">\r\n            <svg\r\n              className=\"w-16 h-16 mx-auto text-yellow-500 mb-4\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n              />\r\n            </svg>\r\n            <p className=\"text-yellow-800 font-medium\">\r\n              No se encontraron libros para tu búsqueda\r\n            </p>\r\n            <p className=\"text-yellow-600 text-sm mt-2\">\r\n              Intenta con otros términos de búsqueda\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        {!isLoading && !displayError && displayResults.length > 0 && (\r\n          <div>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              Se encontraron {displayResults.length} resultados\r\n            </p>\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n              {displayResults.map((book) => (\r\n                <BookCard key={book.id} book={book} />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {!hasQuery && !isLoading && displayResults.length === 0 && (\r\n          <div className=\"max-w-2xl mx-auto text-center py-12\">\r\n            <svg\r\n              className=\"w-24 h-24 mx-auto text-gray-300 mb-4\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              viewBox=\"0 0 24 24\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n              <path\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                strokeWidth={2}\r\n                d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n              />\r\n            </svg>\r\n            <p className=\"text-gray-500 text-lg\">\r\n              Comienza buscando un libro por su título\r\n            </p>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport { useState, useEffect, Suspense } from \"react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport { useBookStore } from \"@/lib/store/useBookStore\";\r\n\r\nfunction SearchBarContent() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const { setSearchTerm } = useBookStore();\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n\r\n  // Initialize input value from URL query parameter\r\n  useEffect(() => {\r\n    const query = searchParams.get(\"q\");\r\n    if (query) {\r\n      setInputValue(query);\r\n      setSearchTerm(query);\r\n    }\r\n  }, [searchParams, setSearchTerm]);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    const trimmedValue = inputValue.trim();\r\n\r\n    if (trimmedValue) {\r\n      setSearchTerm(trimmedValue);\r\n      router.push(`/?q=${encodeURIComponent(trimmedValue)}`);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setInputValue(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"w-full max-w-3xl mx-auto mb-8\">\r\n      <div className=\"flex gap-2\">\r\n        <input\r\n          type=\"text\"\r\n          value={inputValue}\r\n          onChange={handleChange}\r\n          placeholder=\"Buscar libros por título...\"\r\n          className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n          aria-label=\"Buscar libros\"\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          className=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n          disabled={!inputValue.trim()}\r\n        >\r\n          Buscar\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default function SearchBar() {\r\n  return (\r\n    <Suspense fallback={\r\n      <div className=\"w-full max-w-3xl mx-auto mb-8\">\r\n        <div className=\"flex gap-2\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Buscar libros por título...\"\r\n            className=\"flex-1 px-4 py-3 border border-gray-300 rounded-lg\"\r\n            disabled\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            className=\"px-6 py-3 bg-gray-400 text-white rounded-lg font-medium cursor-not-allowed\"\r\n            disabled\r\n          >\r\n            Buscar\r\n          </button>\r\n        </div>\r\n      </div>\r\n    }>\r\n      <SearchBarContent />\r\n    </Suspense>\r\n  );\r\n}\r\n","import { memo } from \"react\";\r\n\r\nfunction LoadingSpinner() {\r\n  return (\r\n    <div className=\"flex justify-center items-center py-12\">\r\n      <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(LoadingSpinner);\r\n"],"names":["module","exports","require","vendored","ReactDOM"],"mappings":"6CAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,YAAY,CAAEC,QAAQ,0CCAjC,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,aAuEe,CAAA,EAAA,EAAA,IAAA,AAAI,EAjEnB,AAiEoB,SAjEX,AAAS,MAAE,CAAI,CAAiB,EACvC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,OAAO,EAAE,EAAK,EAAE,CAAA,CAAE,UAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+KACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,4IACd,EAAK,QAAQ,CACZ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAK,CAAA,CACJ,IAAK,EAAK,QAAQ,CAClB,IAAK,CAAC,WAAW,EAAE,EAAK,KAAK,CAAA,CAAE,CAC/B,IAAI,CAAA,CAAA,EACJ,UAAU,eACV,MAAM,2DACN,QAAQ,OACR,QAAS,GACT,QAAS,AAAC,IACR,EAAE,aAAa,CAAC,KAAK,CAAC,OAAO,CAAG,MAClC,IAGF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,YACV,KAAK,OACL,OAAO,eACP,QAAQ,YACR,MAAM,sCAEN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,yPAGN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wBAAe,qBAKrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iCACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2GACX,EAAK,KAAK,GAGb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mDACV,EAAK,MAAM,CAAC,IAAI,CAAC,QAGpB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACV,EAAK,gBAAgB,EAAI,CAAC,MAAM,EAAK,gBAAgB,EAClD,EAAK,gBAAgB,CACrB,6BAGN,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAc,CAAA,CAAC,KAAM,EAAM,KAAK,kBAO7C,gECzEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCAA,EAAA,EAAA,CAAA,CAAA,OAGA,SAAS,IACP,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,IAC9B,eAAE,CAAa,CAAE,CAAG,CAAA,EAAA,EAAA,YAAA,AAAY,IAChC,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,UAG7C,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAQ,EAAa,GAAG,CAAC,KAC3B,IACF,EAAc,CADL,EAET,EAAc,GAElB,EAAG,CAAC,EAAc,EAAc,EAiB9B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,SAfa,AAAC,CAeJ,GAdhB,EAAE,cAAc,GAChB,IAAM,EAAe,EAAW,IAAI,GAEhC,IACF,EAAc,GACd,EAAO,GAFS,CAEL,CAAC,CAAC,IAAI,EAAE,mBAAmB,GAAA,CAAe,EAEzD,EAOgC,UAAU,yCACtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,MAAO,EACP,SAVc,AAAD,CAUH,GAThB,EAAc,EAAE,MAAM,CAAC,KAAK,CAC9B,EASQ,YAAY,8BACZ,UAAU,kIACV,aAAW,kBAEb,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,+IACV,SAAU,CAAC,EAAW,IAAI,YAC3B,eAMT,CAEe,SAAS,IACtB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SACR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAK,OACL,YAAY,8BACZ,UAAU,qDACV,QAAQ,CAAA,CAAA,IAEV,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,6EACV,QAAQ,CAAA,CAAA,WACT,yBAML,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,IAGP,CD5EA,IAAA,EAAA,EAAA,CAAA,CAAA,aEIe,CAAA,EAAA,EAAA,IAAA,AAAI,EARnB,AAQoB,SARX,EACP,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEAGrB,GFOe,SAAS,EAAiB,gBACvC,CAAc,cACd,CAAY,CACZ,MAAO,CAAY,CACG,EACtB,GAAM,eAAE,CAAa,WAAE,CAAS,OAAE,CAAK,YAAE,CAAU,kBAAE,CAAgB,UAAE,CAAQ,eAAE,CAAa,CAAE,CAC9F,CAAA,EAAA,EAAA,YAAA,AAAY,IAGd,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KAEJ,GAAgB,EAAe,MAAM,CAAG,GAAG,CAC7C,EAAiB,GACjB,EAAc,IAGZ,GACF,EAAS,EAEb,EAAG,CAAC,EAAc,EAHE,AAGc,EAAc,EAAkB,EAAU,EAAc,EAG1F,IAAM,EAAiB,EAAc,MAAM,CAAG,EAAI,EAAgB,EAC5D,EAAe,GAAS,EACxB,EAAW,GAAgB,EAEjC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,mCACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,GAAG,SAAS,UAAU,yBACzB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DAAoD,uBAGlE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAiC,uDAI9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,MAGF,GAAa,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,GAEd,GAAgB,CAAC,GAChB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wFACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wBAAgB,MAIhC,CAAC,GAAa,CAAC,GAAgB,GAAsC,IAA1B,EAAe,MAAM,EAC/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+FACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,yCACV,KAAK,OACL,OAAO,eACP,QAAQ,YACR,MAAM,sCAEN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,yFAGN,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uCAA8B,8CAG3C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,wCAA+B,8CAM/C,CAAC,GAAa,CAAC,GAAgB,EAAe,MAAM,CAAG,GACtD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,+BAAqB,kBAChB,EAAe,MAAM,CAAC,iBAExC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACZ,EAAe,GAAG,CAAE,AAAD,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAQ,CAAA,CAAe,KAAM,GAAf,EAAK,EAAE,QAM7B,CAAC,GAAY,CAAC,GAAuC,IAA1B,EAAe,MAAM,EAC/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAU,uCACV,KAAK,OACL,OAAO,eACP,QAAQ,YACR,MAAM,sCAEN,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,kDAGN,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,oDAQjD","ignoreList":[0]}